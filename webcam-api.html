<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div class="container" value="0">
        <div class="main-location" value="0"></div>
        <div class="main-video" value="0"></div>
    </div>
    <div class="container" value="1">
        <div class="main-location" value="1"></div>
        <div class="main-video" value="1"></div>
    </div>
    <div class="container" value="2">
        <div class="main-location" value="2"></div>
        <div class="main-video" value="2"></div>
    </div>

    <button id="begin">Find</button>
    <!-- Script for jQuery -->
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <script type="text/javascript">
        // Function for displaying webcam feeds
        function displayWebcam() {
            // Clear contents of div for each click
            $("#main").empty();
            
            // API URL
            var queryURL = "https://webcamstravel.p.rapidapi.com/webcams/list/country=US?show=webcams:player";

            // Requesting data from webcam.travel API
            $.ajax({
                url: queryURL,
                method: "GET",
                headers: {
	                    "x-rapidapi-host": "webcamstravel.p.rapidapi.com",
	                    "x-rapidapi-key": "a1162ee7c6mshc800ab83c077685p1dfbd0jsn121aa30497f1"}
            }).then(function(response) {
                // Console logging response
                console.log(response);
                // Varibale creating a new div
                var $videoDisplay = $("<iframe>");
                var $locationDisplay = $("<h3>");
                var $videoDisplayElem = $(".main-video").attr("value", [i]);
                var $locationDisplayElem = $(".main-location").attr("value", [i]);
                // Looping through each item from result
                for (var i = 0; i < 3; i++) {
                // Variables for finding emebd links and locations for each webcam
                var embedDay = response.result.webcams[i].player.day.embed;
                var locationCam = response.result.webcams[i].title;
                var locationCamJSON = JSON.stringify(locationCam);
                // Adding data to elements
                $videoDisplay.attr("src", embedDay);
                $locationDisplay.text(locationCamJSON);
                // Appending elements to #main
                $($videoDisplayElem).html($videoDisplay);
                $($locationDisplayElem).html($locationDisplay);
                console.log(embedDay);
                }
            }); 
        };
        // Calling function
        $("#begin").on("click", displayWebcam);

        
    </script>
            
</body>
</html>